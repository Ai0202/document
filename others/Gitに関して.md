# Git / GitHub

## Git概要
- バージョン管理システムのこと
  - いつ、誰が、どこを、なぜ変更したかを管理する

- なぜバージョン管理システムを利用するか
  1.過去の状態に戻せる
  2.変更履歴の調査が簡単

### 過去の状態に戻せる
- 変更を行う前の方が良かった
- 間違えて変更してしまった

### 変更履歴の調査が簡単
- 特定の変更部分だけを確認してなくすことが可能
- いつ、誰が、どこを、なぜ変更したのかわかる

## GitHub概要
- Gitで管理してるコードなどをホスティングしてくれるWebサービス
- ホストする以外にもいろいろな機能がある
  - 複数人での開発サポート
  - プロジェクト管理など


## Gitの基本
- 以下の3つから構成されてます
  - working directory
    - 作業場
  - staging area
    - コミット待ち(addされた)のファイルたちを置く場所
  - git directory(repository) 
    - commitされたファイルたちを置く場所

## 重要なキーワード
- repositories
- clone
- init
- add
- commit
- push
- pull
- brunch
- merge
- PR(pull request)
- conflict
- fetch

### repositories
- リポジトリ
- データを保管する箱
- ローカルとリモートがある
- ローカル
  - 自分のPCのリポジトリのこと
- リモート
  - GitHubのリポジトリのこと

### clone
- リモートにあるリポジトリを自分のPCにコピーすること

### init
- ローカルに新しいリポジトリを作成すること

### add
- 作業ディレクトリのファイルをステージングエリアに移動させること

### commit
- ステージングエリアのファイルをgit directoryに移動させること
  - git directoryに移動したファイル(commitしたファイル)がバージョン管理されている

### push
- git directoryの情報を連携してるリモートリポジトリにコピーすること

### pull
- git directoryに連携してるリモートリポジトリの情報をにコピーすること
  - cloneとの違い
    - clone: リモートリポジトリのコピーを新規でローカルに作成
    - pull: リモートリポジトリとローカルリポジトリの差分をコピー

### brunch
- 履歴の流れを分岐して記録していくためのもの
- 分岐したブランチは他のブランチの影響を受けない
- 同じリポジトリで複数の作業を並行して進めることができる
  - 例: Aさんは検索作業、Bさんは編集作業

### merge
- 分岐したブランチを結合して1つにまとめること

### PR(pull request)
- あるブランチでの変更をマージする前のチェックの依頼
- リモートで実施する
- チェックをしない場合、品質の低いコードや、バグが混入することがある
- この依頼をチェックすることをコードレビューという
- レビューした結果問題がなければマージする

### conflict
- あるブランチと別のブランチの編集が競合すること
  - 競合 === 同じファイルの、同じ行に、異なる編集がされている状態
- コンフリクトした場合は、リモートのリポジトリでマージすることはできない
- リモートでは、PR時、コンフリクトする場合、マージができないという表示がでる
- 修正するときはローカルでコンフリクトさせて、修正する

### fetch
- リモートリポジトリの変更をリモート追跡ブランチに取り込む
- pull ==== fetch + merge

## Git / GitHubを利用した開発の流れ
### 事前準備
1.ローカルリポジトリをつくる
2.リモートリポジトリをつくる
3.1と2を連携させる
- 1と2の順番は前後しても問題なし
- 上記手順は新規作成の場合
- 既存のリモートリポジトリを `clone` する場合など、手順が変わるケースも存在する
  - cloneに関しては後述
1. 必要最低限のファイルを用意して `initial commit` する


### 開発の流れ
1. (ローカルの)masterからブランチをきる
2. 開発作業
3. add
4. commit
5. push
6. pull request
7. (リモートの)masterにmerge
8. リモートのmsterをローカルのmasterにpull
9. 1に戻って作業

### その他
- 追跡ブランチ
  - リモート追跡ブランチのこと
  - ローカルリポジトリに存在する
  - リモートリポジトリのあるブランチの状態を追跡する
  - ローカルのリポジトリと紐づいている
  - 紐づいてるローカルのブランチと追跡してるリモートブランチの差分を管理している
- reset
  - コミットの取り消し
- revert
  - あるコミットを取り消す別のコミット
- cherry-pick
  - あるブランチの特定のコミットのみ取り込む
- rebase
  - あるブランチの親